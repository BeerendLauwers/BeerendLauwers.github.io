---
title: Use Haskell to perform actions generated by a voice recognition API
tags: Intermediate, API, FFI
---

## What

Google Chrome has had native [voice recognition support](http://shapeshed.com/html5-speech-recognition-api/) for some time now.
But there are several services that go a step further and use natural language processing to turn a voice command into an *action*.

[api.ai](http://api.ai/) gives a nice example:

Request:

> Hey Calendar, schedule lunch with Mary Johnson at 12 pm tomorrow.

Result:
```JSON
{
  "action":"meeting.create",
  "name":"Lunch with Mary Johnson",
  "invitees":["Mary Johnson"],
  "time":"2014-08-06T12:00:00-07:00"
}
```

Other services include [wit.ai](https://wit.ai/) and Soundcloud's [Houndify](https://www.houndify.com/).
Houndify actually already does the step we're interested in: taking the action and actually performing it.

So, the hard part, natural language processing, has already been done. Great!
What can we do with the actions?
Lots of stuff: 

* Start up an application
* Send our location to someone via SMS or e-mail
* Send out a command to your home automation system.
* Go to a website
* Load a playlist / a song on Youtube
* Search on Youtube, follow up with another query "the fifth one" (or "next page")

## What you will learn / Rough plan

You'll first have to be able to talk with one of the APIs.
Getting back some JSON, you'll want to cast that to a concrete data type.

Think about how you will structure actions in your code.
Perhaps use typeclasses to indicate the type of an action?
What about unrecognized actions?

Then, you will have to actually do something:

* Open up a browser and send a query to Youtube for the name of the video the user asked for
* Open a game via Steam
* Open a browser (perhaps a specific one?) and go to a specific website
* Interface with your home automation system and issue a KNX command

Depending on what the action is, you will learn about the FFI, running shell commands (perhaps use [Turtle](https://hackage.haskell.org/package/turtle)?) and other things.